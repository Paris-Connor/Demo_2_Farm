<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harvest Valley Farm</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8E8 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .game-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #8BC34A 0%, #689F38 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            flex-wrap: wrap;
            gap: 10px;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            color: #333;
            font-size: 1.1em;
        }

        .stat-icon {
            font-size: 1.5em;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
        }

        .farm-area {
            background: linear-gradient(to bottom, #8B7355 0%, #6B5345 100%);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .farm-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            background: rgba(139, 115, 85, 0.3);
            padding: 15px;
            border-radius: 10px;
        }

        .plot {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #8B4513 0%, #654321 100%);
            border: 3px solid #5a3a1a;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 2.5em;
            transition: all 0.3s;
            position: relative;
        }

        .plot:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
        }

        .plot.watered {
            background: linear-gradient(135deg, #6B4423 0%, #4a2f17 100%);
            border-color: #3a1f0a;
        }

        .growth-stage {
            font-size: 0.3em;
            position: absolute;
            bottom: 5px;
            color: white;
            background: rgba(0, 0, 0, 0.6);
            padding: 2px 6px;
            border-radius: 5px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .panel h2 {
            color: #4CAF50;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }

        .seed-option, .action-btn {
            background: linear-gradient(135deg, #66BB6A 0%, #4CAF50 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .seed-option:hover, .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }

        .seed-option:disabled, .action-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .seed-option.selected {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
        }

        .action-btn.water {
            background: linear-gradient(135deg, #42A5F5 0%, #2196F3 100%);
        }

        .action-btn.harvest {
            background: linear-gradient(135deg, #FFA726 0%, #FF9800 100%);
        }

        .shop-item {
            background: #f0f0f0;
            padding: 10px;
            margin: 8px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .shop-item button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .shop-item button:hover {
            background: #45a049;
        }

        .shop-item button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            font-size: 1.3em;
            font-weight: bold;
            z-index: 1000;
            transition: transform 0.3s;
        }

        .message.show {
            transform: translate(-50%, -50%) scale(1);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .farm-grid {
                grid-template-columns: repeat(4, 1fr);
            }

            .stats-bar {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <header>
            <h1>üåæ Harvest Valley Farm üåæ</h1>
        </header>

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-icon">üí∞</span>
                <span>Gold: <span id="gold">100</span></span>
            </div>
            <div class="stat">
                <span class="stat-icon">‚è∞</span>
                <span>Day: <span id="day">1</span></span>
            </div>
            <div class="stat">
                <span class="stat-icon">üåü</span>
                <span>Level: <span id="level">1</span></span>
            </div>
            <div class="stat">
                <span class="stat-icon">‚≠ê</span>
                <span>XP: <span id="xp">0</span>/100</span>
            </div>
        </div>

        <div class="main-content">
            <div class="farm-area">
                <div class="farm-grid" id="farmGrid"></div>
            </div>

            <div class="sidebar">
                <div class="panel">
                    <h2>üå± Seeds</h2>
                    <button class="seed-option" data-seed="carrot">
                        <span>ü•ï Carrot</span>
                        <span>10g</span>
                    </button>
                    <button class="seed-option" data-seed="wheat">
                        <span>üåæ Wheat</span>
                        <span>15g</span>
                    </button>
                    <button class="seed-option" data-seed="tomato">
                        <span>üçÖ Tomato</span>
                        <span>25g</span>
                    </button>
                    <button class="seed-option" data-seed="corn">
                        <span>üåΩ Corn</span>
                        <span>35g</span>
                    </button>
                </div>

                <div class="panel">
                    <h2>üõ†Ô∏è Actions</h2>
                    <button class="action-btn water">üíß Water All (5g)</button>
                    <button class="action-btn harvest">üåæ Harvest All</button>
                    <button class="action-btn">‚è≠Ô∏è Next Day</button>
                </div>

                <div class="panel">
                    <h2>üè™ Shop</h2>
                    <div class="shop-item">
                        <span>üéí +5 Plots</span>
                        <button onclick="buyPlots()">100g</button>
                    </div>
                    <div class="shop-item">
                        <span>üíé Premium Seeds</span>
                        <button onclick="unlockPremium()">500g</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="message" id="message"></div>

    <script>
        const cropData = {
            carrot: { icon: 'ü•ï', cost: 10, sellPrice: 25, growthTime: 2, xp: 5 },
            wheat: { icon: 'üåæ', cost: 15, sellPrice: 35, growthTime: 3, xp: 8 },
            tomato: { icon: 'üçÖ', cost: 25, sellPrice: 60, growthTime: 4, xp: 12 },
            corn: { icon: 'üåΩ', cost: 35, sellPrice: 85, growthTime: 5, xp: 18 }
        };

        const gameState = {
            gold: 100,
            day: 1,
            level: 1,
            xp: 0,
            xpToNextLevel: 100,
            plots: [],
            selectedSeed: null,
            plotCount: 20
        };

        function initGame() {
            for (let i = 0; i < gameState.plotCount; i++) {
                gameState.plots.push({
                    crop: null,
                    growthStage: 0,
                    watered: false
                });
            }
            renderFarm();
            updateStats();
        }

        function renderFarm() {
            const grid = document.getElementById('farmGrid');
            grid.innerHTML = '';
            grid.style.gridTemplateColumns = `repeat(${Math.min(5, Math.ceil(Math.sqrt(gameState.plotCount)))}, 1fr)`;

            gameState.plots.forEach((plot, index) => {
                const plotDiv = document.createElement('div');
                plotDiv.className = 'plot';
                if (plot.watered) plotDiv.classList.add('watered');
                
                if (plot.crop) {
                    const crop = cropData[plot.crop];
                    const progress = Math.min(plot.growthStage / crop.growthTime, 1);
                    
                    if (progress >= 1) {
                        plotDiv.innerHTML = crop.icon;
                    } else if (progress >= 0.66) {
                        plotDiv.innerHTML = 'üåø';
                    } else if (progress >= 0.33) {
                        plotDiv.innerHTML = 'üå±';
                    } else {
                        plotDiv.innerHTML = 'üü´';
                    }
                    
                    const stageDiv = document.createElement('div');
                    stageDiv.className = 'growth-stage';
                    stageDiv.textContent = `${plot.growthStage}/${crop.growthTime}`;
                    plotDiv.appendChild(stageDiv);
                } else {
                    plotDiv.innerHTML = '‚¨ú';
                }

                plotDiv.onclick = () => handlePlotClick(index);
                grid.appendChild(plotDiv);
            });
        }

        function handlePlotClick(index) {
            const plot = gameState.plots[index];

            if (!plot.crop && gameState.selectedSeed) {
                const crop = cropData[gameState.selectedSeed];
                if (gameState.gold >= crop.cost) {
                    gameState.gold -= crop.cost;
                    plot.crop = gameState.selectedSeed;
                    plot.growthStage = 0;
                    plot.watered = false;
                    showMessage(`Planted ${gameState.selectedSeed}! üå±`);
                    updateStats();
                    renderFarm();
                } else {
                    showMessage('Not enough gold! üí∞');
                }
            } else if (plot.crop) {
                const crop = cropData[plot.crop];
                if (plot.growthStage >= crop.growthTime) {
                    harvestPlot(index);
                } else {
                    showMessage(`Growing... ${plot.growthStage}/${crop.growthTime} days`);
                }
            }
        }

        function harvestPlot(index) {
            const plot = gameState.plots[index];
            if (!plot.crop) return;

            const crop = cropData[plot.crop];
            if (plot.growthStage >= crop.growthTime) {
                gameState.gold += crop.sellPrice;
                gameState.xp += crop.xp;
                checkLevelUp();
                showMessage(`Harvested ${crop.icon} for ${crop.sellPrice}g! +${crop.xp} XP`);
                plot.crop = null;
                plot.growthStage = 0;
                plot.watered = false;
                updateStats();
                renderFarm();
            }
        }

        function checkLevelUp() {
            if (gameState.xp >= gameState.xpToNextLevel) {
                gameState.level++;
                gameState.xp -= gameState.xpToNextLevel;
                gameState.xpToNextLevel = Math.floor(gameState.xpToNextLevel * 1.5);
                showMessage(`üéâ Level Up! Now level ${gameState.level}! üéâ`);
            }
        }

        function updateStats() {
            document.getElementById('gold').textContent = gameState.gold;
            document.getElementById('day').textContent = gameState.day;
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('xp').textContent = `${gameState.xp}/${gameState.xpToNextLevel}`;
        }

        function showMessage(text) {
            const msg = document.getElementById('message');
            msg.textContent = text;
            msg.classList.add('show');
            setTimeout(() => msg.classList.remove('show'), 2000);
        }

        function nextDay() {
            gameState.day++;
            gameState.plots.forEach(plot => {
                if (plot.crop && plot.watered) {
                    plot.growthStage++;
                    plot.watered = false;
                }
            });
            showMessage('‚òÄÔ∏è New day has begun!');
            updateStats();
            renderFarm();
        }

        function waterAll() {
            const cost = 5;
            if (gameState.gold >= cost) {
                gameState.gold -= cost;
                gameState.plots.forEach(plot => {
                    if (plot.crop) plot.watered = true;
                });
                showMessage('üíß All crops watered!');
                updateStats();
                renderFarm();
            } else {
                showMessage('Not enough gold! üí∞');
            }
        }

        function harvestAll() {
            let harvested = 0;
            gameState.plots.forEach((plot, index) => {
                if (plot.crop) {
                    const crop = cropData[plot.crop];
                    if (plot.growthStage >= crop.growthTime) {
                        harvestPlot(index);
                        harvested++;
                    }
                }
            });
            if (harvested === 0) {
                showMessage('Nothing ready to harvest!');
            }
        }

        function buyPlots() {
            const cost = 100;
            if (gameState.gold >= cost) {
                gameState.gold -= cost;
                gameState.plotCount += 5;
                for (let i = 0; i < 5; i++) {
                    gameState.plots.push({
                        crop: null,
                        growthStage: 0,
                        watered: false
                    });
                }
                showMessage('üéí Purchased 5 more plots!');
                updateStats();
                renderFarm();
            } else {
                showMessage('Not enough gold! üí∞');
            }
        }

        function unlockPremium() {
            if (gameState.gold >= 500) {
                showMessage('üíé Feature coming soon!');
            } else {
                showMessage('Not enough gold! üí∞');
            }
        }

        document.querySelectorAll('.seed-option').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.seed-option').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                gameState.selectedSeed = this.dataset.seed;
                showMessage(`Selected ${this.dataset.seed} seeds üå±`);
            });
        });

        document.querySelectorAll('.action-btn')[0].addEventListener('click', waterAll);
        document.querySelectorAll('.action-btn')[1].addEventListener('click', harvestAll);
        document.querySelectorAll('.action-btn')[2].addEventListener('click', nextDay);

        initGame();
    </script>
</body>
</html>
